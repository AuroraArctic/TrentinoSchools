<!DOCTYPE html>
<html lang="en">

<head>
    <title>Schools in Trentino</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Font  -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display">

    <!-- Particles -->
    <link rel="stylesheet" href="particles.css"> -->
    <link rel="javascript" href="particles.js">
    <link rel="stylesheet" href="style.css">

    <!-- Font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/aef6d5743a.js" crossorigin="anonymous"></script>

    <!-- Additional Libraries -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>

    <!-- Select with research -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
    <link rel="stylesheet" integrity="sha256-ze/OEYGcFbPRmvCnrSeKbRTtjG4vGLHXgOqsyLFTRjg=" crossorigin="anonymous" />

</head>

<body>
    <script>

        function update_pois_path() {
            school = $("#poi-select").val();
            $("#pois").attr("src", "viz/pois/" + school + ".html");
            $("#pois-barplot").attr("src", "viz/barplot/" + school + ".html");

        }
        function update_route_isochrone() {
            transport = $("input[name='choose-transport']:checked").val();
            console.log(transport);
            school = $("#school-select").val();
            $("#route-isochrone").attr("src", "viz/isochrones/route/" + transport + "/" + school + ".html");
        }

        function change_knn() {
            k = $("#choose-knn").val();
            $("#knn").attr("src", "viz/knn/" + k + ".png");
        }
    </script>

    <!-- Navbar -->
    <div class="w3-top" id="navbar">
        <a href="#">Home</a>
        <a href="#searchschool">Cerca
            Scuola</a>
        <a href="#density">School
            density</a>
        <a href="#stats">Some
            statistics</a>
        <a href="#openstreetmap">Places
            nearby</a>
        <a href="#networking">School
            Networking</a>
        <a href="javascript:void(0);" class="icon" onclick="resize_navbar()">
            <i class="fa fa-bars"></i>
        </a>
    </div>


    <!-- Header -->
    <header class="center container w3-white-text" style="padding:128px 16px; position:relative;">
        <h1 class="w3-margin-top jumbo">Scuole in Trentino</h1>
        <h4 class="w3-xlarge">Progetto di Geospatial Analysis</h4>
        <div id="particles-js"></div>
        <script src="particles.min.js"></script>
        <script src="particles.js"></script>

    </header>
    <section>
        <!-- First Grid -->
        <div id="searchschool" class="w3-row-padding white w3-padding-64 w3-container">
            <div class="content">
                <div class="right">
                    <h1>Cerca la tua scuola</h1>
                    <p class="w3-text-grey">
                        La mappa di seguito presentata mostra il Trentino corredato da alcuni marker, che rappresentano
                        la singola scuola. Se il livello di zoom non è dettagliato, le scuole vengono raggruppate: tante
                        più scuole sono raggruppate, tanto più scuro è il cerchio, contenente il numero di scuole che
                        contiene. Aumentando il livello di zoom, è possibile visualizzare il numero di scuole in un'area
                        specifica.
                        <br>
                        Cliccando sul marker della singola scuola, è possibile visualizzarne i dettagli, come nome,
                        Istituto, informazioni di contatto e indirizzo. Nel caso si volesse cercare una scuola
                        specifica, è disponibile l'opzione di ricerca in base al nome della scuola (singola unità
                        didattica).
                        <br>
                        Infine, l'utente può selezionare lo stile che più preferisce dal controller in alto a destra
                        sulla mappa, rendendo la mappa chiara, scura, con dettagli sugli edifici e rimuovendo punti e
                        confini inseriti.
                    </p>
                </div>
                <iframe src="viz/schools_cluster.html"></iframe>
            </div>
            <div class="content">
                <h1>Le scuole trentine in proporzioni</h1>
                <p style="float:left;">
                    Il grafico a fianco mostra la proporzione di scuole statali e paritarie nel territorio trentino. In
                    particolare, cliccando sulla singola categoria, è possibile approfondire la proporzione, per ognuno
                    dei due tipi di gestione scolastica, dei vari gradi di scuola: scuola dell'infanzia, primaria,
                    secondaria di primo e di secondo grado, formazione professionale ed educazione per adulti.
                </p>
                <iframe class="noshadow" src="viz/sunburst_schools.html" style="float: right;"></iframe>
            </div>
        </div>

        <!-- Second Grid -->
        <div id="density" class="w3-row-padding light-grey w3-padding-64 w3-container">
            <div class="content">
                <div class="content">
                    <div class="right">
                        <h1>Studenti, Scuole e Popolazione</h1>
                        <p class="w3-text-grey">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
                            tempor
                            incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                            exercitation
                            ullamco laboris nisi ut aliquip ex ea commodo consequat. Excepteur sint
                            occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est
                            laborum
                            consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna
                            aliqua.
                            Ut
                            enim ad minim veniam, quis nostrud exercitation ullamco
                            laboris nisi ut aliquip ex ea commodo consequat.</p>
                    </div>
                    <div>
                        <iframe src="viz/students_population.html"></iframe>
                    </div>
                </div>
            </div>
        </div>

        <!-- Third Grid -->
        <div id="stats" class="w3-row-padding white w3-padding-64 w3-container">
            <div class="content">
                <h1>Networking</h1>
                <h4>Quante strade puoi raggiungere?</h4>
                <p>
                    Questa sezione è dedicata agli spostamenti a piedi, in bici e in auto. Scegliendo la propria scuola
                    e il mezzo di trasporto, verrà caricata una mappa che mostra quali strade possano essere raggiunte
                    in 5, 10, 15 e 20 minuti, la cui differenza in termini di tempo viene espressa dall'intensità del
                    colore della strada.
                </p>
                <select class="choose-school" onchange="update_route_isochrone()" value=0
                    placeholder="Cerca la tua scuola..." id="school-select"></select>
                <form id="choose-transport" onchange="update_route_isochrone()" value="walk">
                    <label>
                        <i class="fas fa-walking">
                            <input type="radio" name="choose-transport" value="walk" checked>
                        </i>
                    </label>
                    <label>
                        <i class="fas fa-bicycle">
                            <input type="radio" name="choose-transport" value="bike">
                        </i>
                    </label>
                    <label>
                        <i class="fas fa-car">
                            <input type="radio" name="choose-transport" value="drive_service">
                        </i>
                    </label>
                </form>
                <iframe id="route-isochrone" src="viz/isochrones/route/walk/0.html"></iframe>
            </div>
        </div>

        <!-- Fourth Grid -->
        <div id="openstreetmap" class="w3-row-padding light-grey w3-padding-64 w3-container">
            <div class="content">
                <div class="w3-twothird">
                    <h1>Punti di interesse</h1>
                    <select id="poi-select" class="choose-school" onchange="update_pois_path()" value=0
                        placeholder="Cerca la tua scuola..."></select>
                    <p class="w3-text-grey">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
                        tempor
                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                        ullamco laboris nisi ut aliquip ex ea commodo consequat. Excepteur sint
                        occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum
                        consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                        consequat.</p>
                </div>
                <iframe id="pois" src="viz/pois/0.html"></iframe>
            </div>
            <div class="content">
                <iframe id="pois-barplot" src="viz/barplot/0.html"></iframe>
            </div>
        </div>

        <!-- Fifth Grid -->
        <div id="networking" class="w3-row-padding white w3-padding-64 w3-container">
            <div class="content">
                <div>
                    <h1>Modelli di regressione spaziale</h1>
                    <p class="w3-text-grey">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
                        tempor
                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                        ullamco laboris nisi ut aliquip ex ea commodo consequat. Excepteur sint
                        occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum
                        consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                        Ut
                        enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.</p>
                </div>

                <div class="left">
                    <input type="range" min="1" max="20" value="1" class="slider" id="choose-knn"
                        oninput="change_knn()">
                    <img src="viz/knn/1.png" id="knn">
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="w3-container w3-padding-64 center w3-opacity">
        <div class="w3-xlarge">
            <a href="https://github.com/AuroraArctic/TrentinoSchools" target="_blank"><i
                    class="fa fa-github w3-hover-opacity"></i></a>
            <a href="https://www.linkedin.com/in/aurora-maria-tumminello/" target="_blank"><i
                    class="fa fa-linkedin w3-hover-opacity"></i></a>
        </div>
        <p>Aurora Maria Tumminello<br>Università degli Studi di Trento</p>
    </footer>

    <script>

        // Working to load the list of schools
        $(document).ready(function () {
            $('.choose-school').select2()
        });

        $.get("https://raw.githubusercontent.com/AuroraArctic/TrentinoSchools/main/data/schools_list_for_select.json",
            function (data, error) {
                if (error) {
                    console.log(error);
                }
                var options = JSON.parse(data);
                for (i in options) {
                    if (i == 0) {
                        $(".choose-school").append('<option value="' + i + '" selected>' + options[i] + '</option>');
                    } else {
                        $(".choose-school").append('<option value="' + i + '">' + options[i] + '</option>');
                    }
                }
            });

        function resize_navbar() {
            var x = document.getElementById("navbar");
            if (x.className === "w3-top") {
                x.className += " responsive";
            } else {
                x.className = "w3-top";
            }
        }
    </script>
</body>

</html>